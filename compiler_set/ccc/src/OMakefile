.PHONY: all clean

FILES[] =
	id
	syntax
	lexer
	parser
	main
	m
	type
	typing
	util
	asm
	reg
	flatExp
	simpleControl
	alpha
	flow
	heapAllocation
	liveAnalyzer
	memoryAllocation
	generateAsm
	macroExpand
	extendedSet

LIB = ccc
PROGRAM = main

.DEFAULT: $(OCamlProgram $(PROGRAM), $(FILES))

OCamlLibrary($(LIB), $(FILES))

clean:
	rm -f *~ *.opt *.cmi *.cmx *.o *.omc *.cma *.cmxa $(PROGRAM) *.a
